概要
----
- PIC18F2550
- CDC Basic Demo をベースに赤外線LEDの送受信し、データをシリアル通信で送受信
- CPU クロック 48MHz
- 赤外通信 38KHz


Hardwares
---------
- LED1
- LED2
- 赤外線 LED
- sw1 (for reset)
- sw2 (for user)
- 赤外線受信モジュール
 PL-IRM2161-C438


仕様
----




38KHz
-----
38KHz == 26.3157894736842[us] => (デューティー比 1/3 hi:lo=1:2)
48MHz == 0.020833333333333[us/clock] == 0.083333333[us/cycle]

HI または LO のdelay を計算
26.3157894736842 / 0.083333333 = 315.78947368421[cycle]

デューティ比 33% なので
HI:105.263157894737[cycle] == 8.77192982456142[us]
LO:210.526315789474[cycle] == 17.5438596491228[us]

デューティ比 50% の場合 315.78947368421 / 2 = 157.894736842105[cycle]
HI:157.894736842105[cycle] == 13.1578947368421[us]
LO:157.894736842105[cycle] == 13.1578947368421[us]

Mac で USBシリアル通信する方法
------------------------------
- cu を使う方法
 sudo cu -l /dev/tty.usbmodemfa131 -s 19200

- screen を使う方法
 screen -c /dev/null /dev/tty.usbmodemfa131 119200

format
------
家電協 T:0.425ms 1T=79.69 Leader(H8T  L4T) 0:(H1T L1T) 1:(H1T L3T)
NEC    T:0.560ms 1T=105   Leader(H16T L8T) 0:(H1T L1T) 1:(H1T L3T) bitlen=32,42
SONY   T:0.600ms 1T=112.5 Leader(H4T  L1T) 0:(H1T L1T) 1:(H2T L1T) bitlen=12,15,20

datas
-----
- timer0
 1:64 48MHz/4=12MHz => 0.08333[us/cycle] => *64 => 5.33333us
 タイマー単位の 1 は 5.33333[us]

- Aiwa リモコン => NECフォーマット
|1680|840| <= リーダ部
1T=105
3T=315

-- 電源
H1698,L839,H111,L312,H107,L312,H112,L98,H107,L312,H111,L307,H112,L312,H106,L313,H111,L99,H107,L99,H111,L98,H112,L98,H107,L99,H111,L99,H111,L99,H107,L99,H111,L305,H104,L98,H111,L99,H111,L99,H107,L89,H111,L311,H107,L302,H112,L307,H111,L313,H106,L311,H112,L307,H112,L98,H111,L99,H107,L99,H111,L97,H111,L99,H107,L99,H111,L99,H111,L99,H107,L311,H112,L307,H112,L311,H106,L312,H112,L307,H112,L312,H106,L313,H111,L307,H112,L60000
received,H1699,L839,H111,L312,H98,L311,H111,L99,H107,L311,H112,L307,H112,L312,H106,L311,H112,L97,H99,L99,H111,L99,H111,L99,H107,L99,H111,L97,H113,L99,H106,L99,H111,L312,H106,L99,H111,L98,H119,L91,H107,L99,H111,L312,H106,L312,H112,L307,H106,L308,H106,L313,H111,L307,H112,L98,H112,L98,H97,L99,H111,L99,H111,L99,H107,L99,H111,L98,H112,L98,H107,L312,H111,L308,H111,L310,H99,L312,H112,L307,H111,L313,H106,L316,H107,L307,H112,L60000
H1695,L843,H107,L313,H111,L307,H112,L98,H111,L308,H111,L313,H106,L311,H103,L307,H112,L98,H111,L99,H107,L99,H111,L97,H112,L97,H107,L105,H105,L99,H111,L99,H107,L311,H112,L98,H107,L99,H111,L99,H111,L99,H107,L311,H112,L307,H112,L311,H106,L312,H112,L307,H112,L312,H106,L99,H111,L99,H111,L99,H107,L98,H112,L98,H112,L98,H107,L99,H111,L99,H111,L308,H111,L312,H107,L312,H112,L298,H111,L311,H107,L312,H112,L307,H119,L305,H106,L4350,H1701,L839,H112,L60000

-- 電源長押し
H1693,L844,H106,L313,H112,L307,H111,L99,H111,L306,H112,L312,H106,L313,H111,L307,H112,L98,H111,L99,H107,L95,H105,L99,H111,L99,H105,L99,H120,L89,H111,L99,H107,L312,H111,L99,H105,L99,H111,L99,H111,L99,H102,L308,H111,L308,H111,L312,H106,L313,H111,L308,H111,L311,H106,L99,H111,L99,H111,L99,H107,L99,H110,L100,H110,L100,H106,L99,H111,L108,H102,L308,H111,L312,H106,L313,H111,L314,H105,L312,H107,L312,H112,L307,H111,L313,H106,L4350,H1701,L839,H111,L17706,H1696,L844,H106,L17707,H1701,L839,H111,L17709,H1693,L839,H110,L17707,H1695,L845,H106,L17707,H1701,L838,H111,L17702,H1701,L838,H112,L17707,H1695,L844,H107,L17712,H1695,L838,H112,L17701,H1701,L839,H112,L17707,H1695,L844,H107,L17706,H1701,L839,H112,L17701,H1701,L839,H111,L17710,H1691,L845,H106,L17707,H1701,L838,H112,L17702,H1701,L838,H111,L17707,H1695,L844,H107,L60000


- Victor テレビリモコン => NECフォーマット
|1680|840| <= リーダ部
1T=105
3T=315

-- 電源
H1571,L780,H100,L289,H99,L285,H95,L92,H100,L93,H100,L93,H100,L92,H101,L92,H100,L93,H100,L288,H100,L289,H98,L282,H99,L92,H101,L288,H101,L92,H100,L93,H100,L93,H99,L4018,H101,L289,H99,L289,H101,L92,H100,L86,H97,L93,H100,L92,H101,L92,H100,L93,H100,L288,H100,L289,H100,L289,H95,L88,H100,L289,H99,L93,H100,L93,H100,L92,H100,L60000
H1570,L779,H107,L282,H101,L289,H99,L93,H100,L93,H100,L92,H100,L93,H100,L93,H100,L93,H100,L286,H93,L288,H100,L289,H100,L92,H100,L288,H100,L92,H101,L92,H100,L93,H100,L4006,H100,L289,H105,L283,H101,L92,H100,L93,H100,L93,H100,L93,H100,L92,H100,L93,H100,L289,H99,L285,H95,L289,H99,L92,H101,L288,H100,L92,H100,L93,H100,L92,H101,L60000
H1570,L779,H100,L289,H101,L287,H101,L92,H100,L93,H100,L93,H100,L93,H100,L92,H100,L93,H100,L289,H99,L281,H99,L289,H99,L94,H100,L288,H100,L92,H100,L93,H100,L93,H100,L4017,H100,L289,H100,L288,H101,L92,H100,L93,H100,L93,H100,L93,H100,L92,H100,L93,H100,L289,H99,L289,H101,L289,H99,L94,H100,L288,H100,L92,H100,L93,H100,L92,H101,L60000
H1571,L779,H100,L289,H101,L288,H100,L92,H101,L92,H100,L93,H100,L93,H100,L92,H101,L92,H100,L290,H99,L289,H91,L289,H99,L93,H100,L288,H101,L92,H100,L93,H100,L93,H100,L4016,H99,L289,H101,L289,H101,L88,H95,L93,H100,L92,H101,L92,H100,L93,H100,L93,H100,L288,H100,L289,H100,L288,H101,L92,H100,L289,H99,L93,H100,L92,H100,L93,H100,L60000
H1572,L779,H100,L289,H101,L289,H99,L92,H101,L92,H100,L93,H100,L93,H100,L93,H100,L92,H100,L289,H99,L289,H100,L289,H100,L92,H100,L288,H100,L92,H100,L93,H100,L93,H100,L4017,H100,L289,H100,L289,H99,L92,H100,L93,H100,L93,H100,L93,H100,L93,H100,L92,H100,L289,H99,L289,H101,L289,H100,L92,H100,L288,H100,L92,H100,L93,H100,L93,H100,L60000

-- 音量上
H1572,L779,H100,L298,H91,L289,H100,L92,H100,L92,H101,L92,H100,L93,H100,L93,H100,L92,H101,L92,H100,L290,H92,L286,H101,L289,H99,L289,H101,L92,H100,L93,H100,L93,H100,L4016,H101,L289,H99,L286,H93,L92,H100,L93,H100,L92,H101,L92,H100,L93,H100,L93,H100,L92,H101,L288,H100,L288,H92,L287,H101,L289,H99,L93,H100,L92,H100,L93,H100,L60000
H1570,L779,H100,L289,H101,L289,H99,L93,H100,L92,H100,L93,H100,L93,H100,L98,H95,L92,H101,L92,H100,L290,H99,L289,H100,L289,H100,L288,H107,L85,H100,L93,H100,L93,H100,L4016,H99,L290,H99,L289,H101,L92,H100,L93,H100,L92,H101,L92,H100,L93,H100,L93,H100,L97,H96,L288,H100,L288,H100,L289,H100,L289,H99,L92,H101,L92,H96,L87,H100,L60000
H1571,L779,H100,L289,H99,L289,H101,L98,H94,L93,H100,L93,H100,L92,H101,L92,H100,L93,H100,L93,H100,L288,H100,L289,H107,L281,H101,L289,H99,L93,H100,L92,H101,L92,H100,L4016,H101,L289,H101,L289,H99,L92,H100,L93,H100,L98,H95,L92,H101,L92,H100,L93,H100,L93,H100,L288,H100,L289,H100,L288,H107,L282,H101,L92,H100,L93,H100,L92,H100,L60000




- Sony すごろく => SONY フォーマット T:0.6ms 1T=112.5 Leader(H4T L1T) 0:(H1T L1T) 1:(H2T L1T)
|450|112.5| <= リーダ部
1T=112.5
2T=225

-- 電源ボタン
H446,L106,H225,L105,H114,L99,H223,L105,H114,L104,H216,L107,H114,L105,H114,L106,H113,L106,H225,L110,H113,L106,H225,L106,H225,L105,H114,L106,H224,L107,H114,L106,H224,L107,H226,L105,H229,L106,H225,L106,H224,L2121,H448,L106,H225,L106,H114,L107,H224,L106,H116,L104,H224,L106,H112,L99,H113,L107,H113,L107,H229,L107,H113,L107,H225,L107,H224,L106,H114,L107,H224,L106,H114,L105,H225,L106,H225,L110,H224,L100,H222,L107,H230,L2112,H448,L106,H225,L107,H113,L106,H224,L101,H110,L106,H224,L107,H103,L107,H113,L106,H113,L106,H225,L110,H113,L106,H225,L106,H224,L106,H113,L107,H224,L106,H113,L107,H224,L107,H224,L105,H230,L105,H224,L107,H224,L60000
H448,L105,H225,L107,H113,L106,H224,L107,H113,L106,H224,L107,H112,L107,H113,L106,H114,L105,H225,L110,H114,L105,H225,L106,H224,L107,H112,L107,H224,L106,H113,L107,H224,L106,H225,L115,H221,L105,H222,L100,H224,L2120,H449,L106,H225,L105,H114,L100,H222,L105,H114,L105,H216,L105,H114,L105,H114,L106,H113,L106,H230,L106,H113,L106,H225,L106,H225,L105,H114,L106,H224,L107,H114,L96,H224,L107,H217,L109,H224,L106,H225,L106,H224,L2119,H448,L106,H225,L106,H114,L107,H224,L106,H109,L102,H224,L106,H113,L106,H114,L107,H112,L107,H225,L111,H113,L107,H225,L107,H224,L106,H114,L105,H225,L106,H114,L105,H225,L106,H224,L107,H230,L111,H219,L105,H234,L60000
H446,L106,H225,L105,H114,L105,H226,L105,H114,L105,H230,L101,H114,L105,H114,L105,H114,L106,H225,L110,H114,L106,H225,L105,H225,L107,H114,L105,H225,L107,H114,L105,H225,L107,H224,L106,H230,L106,H225,L102,H219,L2121,H448,L106,H225,L106,H113,L107,H224,L106,H113,L106,H225,L106,H113,L106,H112,L97,H114,L107,H229,L96,H114,L107,H224,L106,H225,L106,H113,L106,H225,L106,H113,L106,H225,L106,H224,L111,H224,L107,H225,L105,H225,L2119,H448,L106,H225,L107,H114,L106,H224,L107,H113,L101,H221,L107,H112,L107,H104,L106,H113,L106,H224,L111,H113,L106,H224,L107,H224,L107,H112,L107,H224,L107,H113,L107,H224,L107,H225,L105,H230,L106,H224,L107,H224,L60000
H441,L104,H225,L106,H112,L97,H225,L106,H113,L106,H225,L106,H113,L106,H114,L105,H114,L107,H225,L110,H114,L107,H225,L105,H225,L106,H114,L105,H225,L106,H118,L101,H225,L106,H224,L107,H229,L107,H225,L105,H225,L2120,H448,L106,H225,L116,H103,L107,H224,L107,H113,L107,H224,L107,H113,L107,H112,L107,H113,L106,H230,L106,H113,L106,H224,L107,H224,L96,H113,L107,H224,L102,H108,L106,H225,L105,H226,L110,H235,L96,H224,L107,H224,L2119,H447,L107,H219,L102,H114,L105,H225,L96,H114,L105,H225,L106,H114,L105,H114,L105,H114,L106,H225,L110,H114,L106,H225,L105,H225,L107,H114,L105,H226,L105,H113,L107,H222,L100,H224,L106,H230,L106,H225,L105,H225,L60000
H445,L106,H225,L105,H114,L106,H225,L105,H114,L106,H224,L107,H114,L106,H113,L106,H113,L106,H225,L110,H113,L106,H225,L106,H224,L101,H110,L106,H224,L107,H104,L106,H224,L107,H225,L107,H229,L106,H225,L106,H224,L2121,H448,L106,H222,L99,H114,L107,H224,L106,H114,L107,H224,L106,H114,L105,H114,L107,H113,L107,H229,L107,H113,L107,H224,L107,H225,L105,H114,L105,H229,L102,H114,L105,H225,L96,H224,L111,H224,L106,H225,L105,H226,L2118,H448,L106,H225,L107,H113,L106,H224,L107,H112,L107,H224,L106,H113,L107,H113,L106,H114,L105,H225,L110,H114,L105,H225,L106,H224,L107,H112,L107,H224,L106,H113,L107,H224,L106,H225,L105,H230,L105,H224,L107,H224,L60000

- チャンネル上
H445,L106,H225,L101,H221,L105,H114,L105,H114,L106,H225,L105,H114,L106,H113,L107,H113,L106,H224,L111,H113,L106,H224,L107,H224,L106,H113,L107,H224,L97,H112,L106,H225,L103,H219,L105,H235,L101,H225,L106,H224,L2120,H448,L106,H225,L105,H225,L106,H109,L101,H114,L107,H224,L106,H114,L107,H113,L107,H114,L106,H230,L105,H114,L106,H224,L107,H225,L107,H113,L107,H225,L107,H113,L107,H226,L104,H230,L106,H225,L106,H225,L105,H225,L2122,H448,L106,H225,L107,H224,L101,H109,L106,H113,L107,H224,L106,H113,L107,H113,L106,H114,L105,H230,L106,H114,L105,H225,L106,H224,L107,H113,L106,H224,L107,H113,L106,H224,L106,H225,L103,H223,L105,H220,L102,H224,L60000
H447,L106,H224,L107,H217,L104,H113,L107,H114,L105,H225,L107,H114,L105,H114,L106,H113,L106,H225,L110,H113,L106,H225,L106,H225,L105,H114,L106,H224,L107,H114,L99,H222,L107,H220,L102,H230,L105,H225,L106,H225,L2119,H448,L107,H225,L106,H224,L107,H113,L106,H110,L100,H225,L106,H113,L106,H114,L105,H114,L107,H229,L105,H114,L107,H225,L105,H225,L106,H114,L105,H225,L106,H114,L105,H225,L106,H230,L106,H224,L104,H217,L105,H225,L2111,H448,L107,H225,L96,H224,L107,H114,L102,H108,L106,H224,L107,H114,L106,H113,L106,H113,L106,H230,L106,H113,L106,H225,L106,H225,L106,H113,L106,H225,L106,H113,L106,H225,L99,H222,L111,H215,L107,H224,L106,H225,L60000
H447,L106,H225,L105,H217,L104,H114,L105,H114,L107,H225,L105,H114,L107,H113,L107,H113,L106,H224,L111,H113,L106,H224,L107,H224,L107,H113,L107,H224,L107,H112,L99,H223,L105,H220,L102,H230,L106,H225,L106,H224,L2121,H448,L106,H225,L106,H225,L106,H113,L106,H119,L101,H224,L106,H113,L107,H113,L107,H114,L105,H230,L105,H114,L105,H225,L107,H224,L106,H114,L107,H224,L107,H113,L107,H224,L106,H230,L106,H225,L113,H217,L107,H224,L2112,H448,L106,H225,L106,H225,L105,H114,L102,H108,L107,H224,L107,H112,L107,H113,L106,H113,L106,H230,L106,H113,L106,H225,L106,H224,L107,H113,L106,H224,L107,H113,L106,H224,L108,H223,L111,H225,L105,H225,L106,H224,L60000




* ダイキンエアコン電源ボタン
